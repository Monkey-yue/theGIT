本教程大量学习于[廖雪峰的git教学网站]([Git教程 - 廖雪峰的官方网站 (liaoxuefeng.com)](https://www.liaoxuefeng.com/wiki/896043488029600))，若有自信可以使用其网站

## 本文适合谁

由于在校的教师在教学过程中并不在意本工具，但是作者在网络上对于各种项目的探索或多或少有所耳闻，如此常用的工具不去学习使用属实可惜。虽然本科学习中作者对于大型项目没有参与，但是就如同Linux学习一样将来迟早要接触，相比于Linux来说git的使用频率在作者学习过程中较为频繁，接触也较多，于是本文是作者记录学习过程的笔记，用较为白话入门的词藻来介绍本工具~~（说白了就是不专业）~~。如果你也想学习本工具但是又烦恼于没有大量知识的铺垫故不敢尝试，又怕学习深入迷失方向，只是想在日常学习中使用部分有用的功能，那么本教程倒是很对你的电波。一边实践一边学习，遇到问题再去深入学习，**以实践带动学习，以学习帮助实践**。所以动起手来，千里之行始于足下。

### 什么是GIT

简单来说就是用于记录你对这个项目进行各种操作，以此实现版本回退，方便进行分支处理。此外，git可以在你离线状态下也可以对项目进行跟踪，等有了网络以后在与远程仓库进行合并等一系列操作，你的所有commit，add等操作都将被记录，配合使用GitHub可以更直观的观察、回忆你的操作。由于同样的项目管理工具用很多，类似于SVN等，git属于分布式，svn属于集中式，了解至此即可，通俗的讲就是svn可能离了网络就无法正常工作，而git可以实现离线操作。

### 安装

你可以查看廖雪峰的git网站[安装]([安装Git - 廖雪峰的官方网站 (liaoxuefeng.com)](https://www.liaoxuefeng.com/wiki/896043488029600/896067074338496))，在此不多墨迹

## 正文

你需要知道的

为了避免出现奇妙的问题，**请文件目录不要包含中文**，相比于svn对于中文字符的支持，git还是较为逊色，但一个计算机学生是不应该被英文所阻挡。

git分为三个区域，一个是本地的工作区(work directory)，另一个是暂存区(stage)，最后一个是版本库(repository)，仔细地说暂存区是属于版本库中，但是方便学习先这么理解。工作区就是你本地的项目目录。版本库是用于记录你的所有操作的目录，**在项目文件夹中以隐藏文件".git"存在，通过显示隐藏文件即可查看**，你在工作目录的git所有操作都将以40位随机英文与数字的组合命名，以后会有大用。其夹在中间的就是暂存区。



### 开始git

首先打开你决定git的项目目录，打开``git Bash``输入我们的第一行git代码

``$ git init``

创建版本库(repository)，界面会提示你初始化该目录。



于是顺其自然你添加一个文件或改动了一个原有的文件。

例如我在该目录中新建一个文档叫做``test.txt``并在其中写下了一行字，保存修改并准备使用git将操作提交。



你可以先使用:

`$ git status`

来查看本次操作到底操作了什么.



这是宏观的查看只会告诉你操作了那个文件，其中红色文件代表了你只在工作区进行了修改，但是并没有提交到暂存区内。

于是我们使用

``git add <filename>``

指令来将修改加入暂存区。



再次使用`git status`发现文件变成了绿色，你已经成功提交到了暂存区。

然后你觉得有必要像游戏中那样进行存档，方便你下一次可以回退到这个版本，你要将其提交到版本库，你应当使用指令：



`$ git commit -m "<对此提交的介绍>"`

你已经成功提交到了版本库，你再一次使用`git status`指令，发现提示你没有东西可以commit了，工作树是干净的。**恭喜你成功完成了第一次提交。**

其实准确的说到这里基本操作以及明了了，这也许是你使用的最多的三个指令。



**请务必熟练以上四个常用的命令。**

---



### 远程仓库

说到远程仓库就不得不提到著名的github了，也许你是因为需要使用GitHub不得不在本地进行本地版本管理，所以我们首先需要本地与远程连接。



首先进行配置：

``git config --global user.name "Your Name" ``

``*git config --global user.email "email@example.com"``

用了这个参数，表示你这台机器上所有的 Git 仓库都会使用这个配置



随后GitHub为了安全与本地进行提交，需要验证你的身份，所以我们需要电脑生成ssh公钥，有些电脑回拥有该公钥，查看C://user/'用户名'中的隐藏文件.ssh文件夹中是否有id_rsa和id_rsa.pub文件，若没有我们需要重新配置，为此我们需要如下指令：

``ssh-keygen -t rsa -C "user.email"``

之后就可以在C盘中`user/‘你的用户名’`中隐藏文件.ssh中找到id_rsa.pub文件。切记是.pub结尾的文件另一个名字很像的是私有密钥要保密。



随后登入你的GitHub页面在头像中的下拉菜单中找到Account setting->SSH keys 点击Add SSH Key 填写Title，这是备注，在Key文本框中把文件中的字符串粘贴进去。

以上，你就拥有与该Github连接的资格了。



这里再介绍一些经常会使用到的远程仓库控制指令，可以提前了解一下：

`git clone <ssh or https link>`或者`git pull <ssh or https link>`我们可以通过这两种方法将远程仓库拉取到本地，如果要讨论区别的话clone是将代码完整的下载下来，或许会覆盖原有代码，pull会尝试合并。



如果你要将本地修改完后的版本库上传到远程

我们需要`git push`上传

当然这条命令拥有选择推送到远程仓库分支的功能，我们需要改变一些参数

`git push -u origin master`意思是上传到origin仓库（下方会介绍）中的master分支，当然这属于大型项目的操作了，这里就先不讲分支的操作，有需要可以自己去了解，小型项目使用不带参数的push绰绰有余了。



对于仓库名称，你可以使用`git remote -v`查看该工作区绑定的远程仓库，最前面的仓库名例如origin就是我们先绑定的远程仓库的默认名称。

对于远程仓库连接的修改，假如某一日你放弃使用GitHub使用gitee，那么你也可以把该git本地仓库绑定的远程仓库删除，我们使用

`git remote rm <name>`

这里的name是本地对于远程仓库的名称，例如默认的origin。

添加远程仓库连接我们可以使用

`git remote add [name]`来建立新连接并命名。

一个git可以使用多个远程仓库连接，但是你在使用`push`操作时需要指定仓库名称，你可以从网上查找参数，默认是传输到origin仓库。



---

### Git的一些其他操作

这些操作使用频率不如以上的次数多，但是往往在某些时候是救命的指令，所以我们也应该动手实践一下。

``git reflog``该指令是用来显示可以回退到的版本，顺着这些指令我们来逐一介绍一下：

![](/img/reflog.jpg)

我们可以看到我们能看到单词HEAD，相当于C语言中的指针，指向当前操作的版本，例如蓝色的HEAD -> main表示现版本是指向main分支，而HEAD@{1}表示的是当前HEAD指针的上1个版本，同理，HEAD@{2}就是上两个版本。我们可以通过该方法回退版本：



``git` reset HEAD^ [filename]`` 文件名可选。表示回退到上一个版本，一个``^``符号是一个版本，当然要是回退多个版本之前不代表打如此多的`^`符号，我们只需改成HEAD~‘7’即可。

同时我们注意到黄色的7位字符串，这是git对你的每一次操作使用40位的随机哈希码作为标记，我们只需8位标记即可，同样我们可以通过标识码来回退，只需把HEAD改成标识码即可。



上面我们使用了`status`来查看文件的修改情况，但若你想详细查看某文件内部修改情况该如何操作，我们可以使用指令：

`git diff HEAD -- [filename]`

这里我们可以详细查看工作区与版本库最新版本中某文件的区别，其中文本操作类似于VIM指令。



这里介绍一些版本回退功能。

我们可以将工作区的文件恢复到最近一次在暂存区或版本库的状态，**默认是从暂存区恢复，若要从版本库中恢复必须先将暂存区清空。**我们使用：

`git checkout -- [filename]`。

上面提到了暂存区清空，这种情况也适用于我们不小心将文件提交到了暂存区，我们需要将其退回，这里我们使用指令：

`git restore [file]`或者使用`git reset HEAD`.

---

### 分支

因为分支在小型项目中我们使用较少，也由于我的技术原因很难完美的介绍该操作，这里只将最浅显、最有机会碰到的操作讲出来。

什么是分支？假如将这个代码分发给不同的人，一些人测试这些代码，另一部分人添加一些可供选择的操作，我们将其视为或多或少需要对原有代码进行修改，但是在组织者确认之前都不可更改这些代码，并且在同意更改后可以合并这些代码，我们该如何处理？这时候我们需要用到分支操作。

简单来说就是在原有的代码基础上写代码，但不影响原来的代码，可以实时存储并回退，后期亦能合并。

我们可以创建分支：

`git branch <name>`

于此同时我们可以查看分支名称：

`git branch`

 切换分支：

`git checkout <name>`或者`git switch <name>`

我们亦可以一步到位，创建并切换到分支：

`git checkout -b <name>`或者`git switch -c <name>`

删除分支：

`git branch -d <name>`



关于合并

假如在合并时使用

`git merge <branch name>`git识别出该分支可以与主分支直接合并那么将使用Fast-forward快速合并。

我们肯定也会遇到无法合并的情况，在合并时会有conflict提示，此时就需要手动进行修改，此时需要更改的文件中会显示需要修改的部位，这里推荐各位手动尝试比较直观。修改完毕后即可提交。

---

### 结语

以上操作不可能永远完美的满足你的需要，我也不可能在如此简短的文档中将各种参数都介绍完成。git很强大，几乎每个指令都有参数，适应于不同的情况，如果只想通过以上这些指令一招鲜吃遍天是万万不可的，还需要在遇到问题时自己查阅解决。

时间：2023年3月17日







